# Optional override for local development: point containers at the
# host's Neo4j instance instead of the compose network service.
#
# Use this file when you need containers to connect to a Neo4j
# instance running on the host (e.g., `bolt://host.docker.internal:7687`
# on Docker Desktop / macOS). This is an opt-in override and should be
# used with caution â€” prefer the default internal compose networking
# for predictable container-to-container communication.

version: '3.8'

services:
  backend:
    environment:
      - NEO4J_URI=bolt://host.docker.internal:7687
      - NEO4J_USERNAME=${NEO4J_USERNAME:-neo4j}
      - NEO4J_PASSWORD=${NEO4J_PASSWORD:-neo4j}

  worker:
    environment:
      - NEO4J_URI=bolt://host.docker.internal:7687
      - NEO4J_USERNAME=${NEO4J_USERNAME:-neo4j}
      - NEO4J_PASSWORD=${NEO4J_PASSWORD:-neo4j}

  flashrank-worker:
    environment:
      - NEO4J_URI=bolt://host.docker.internal:7687
      - NEO4J_USERNAME=${NEO4J_USERNAME:-neo4j}
      - NEO4J_PASSWORD=${NEO4J_PASSWORD:-neo4j}
